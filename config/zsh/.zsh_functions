# Serve a directory on a given port (Python 3)
servedir() {
  local port="${1:-8000}"
  python3 -m http.server "$port"
}

# Scrape images with wget
scrapeimages() {
  wget -nd -H -p -A jpg,jpeg,png,gif -e robots=off "$1"
}

# Find and kill processes by name
pskill() {
  pkill -f "$1"
}

# Extract archives intelligently
extract() {
  case $1 in
    *.tar.gz|*.tgz) tar -xzf "$1";;
    *.tar.bz2|*.tbz2) tar -xjf "$1";;
    *.tar.xz) tar -xJf "$1";;
    *.zip) unzip "$1";;
    *.rar) unrar x "$1";;
    *.7z) 7z x "$1";;
    *) echo "Unknown archive format";;
  esac
}

# Initialize a new Node.js project with common settings
node-init() {
  npm init -y
  printf '.DS_Store\nnode_modules\n.env\ncoverage\ndist\n' > .gitignore
  mkdir -p src
  touch src/index.js
  echo "Project initialized in $(pwd)"
}